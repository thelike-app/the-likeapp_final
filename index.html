<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LIKE</title>
  <style>
    :root{
      --bg:#000000;   /* background */
      --fg:#ffffff;   /* text */
      --panel:#111111;        /* table/panel cells */
      --panel-strong:#1a1a1a; /* headers/cards */
      --border:#333333;       /* borders */
      --muted:#9aa0a6;        /* secondary text */
    }
    html, body{
      height:100%; margin:0; padding:0;
      background-color:var(--bg);
      color:var(--fg);
      font-family:Helvetica, Arial, sans-serif;
      /* solid background guarantees: */
      background-image:none !important;
      background-repeat:no-repeat !important;
      background-size:auto !important;
    }
    body{ text-align:center; }

    h1{ margin-top:120px; font-size:80px; letter-spacing:2px; }
    input{ padding:10px; font-size:16px; width:280px; border:none; border-radius:4px; margin-top:24px; text-align:center; background:#fff; color:#000; }
    button{ margin-top:18px; padding:10px 20px; font-size:16px; background:#fff; color:#000; border:none; border-radius:4px; cursor:pointer; }
    button:hover{ background:#ddd; }
    .tagline{ margin-top:12px; font-size:14px; color:var(--muted); }
    .footer{ position:fixed; bottom:20px; width:100%; font-size:12px; color:var(--muted); }

    #results{ margin-top:30px; white-space:pre-wrap; text-align:left; max-width:1000px; margin-inline:auto; font-size:14px; color:var(--fg); }

    /* Suggestions */
    .suggestions{ position:absolute; background-color:var(--panel-strong); border:1px solid var(--border); border-radius:6px; max-height:220px; overflow:auto; width:280px; z-index:1000; display:none; }
    .suggestion-item{ padding:10px; cursor:pointer; border-bottom:1px solid var(--border); display:flex; align-items:center; color:var(--fg); }
    .suggestion-item:hover{ background-color:var(--panel); }
    .status-icon{ margin-left:auto; width:16px; height:16px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:bold; }
    .playing{ background:#007bff; color:#fff; }
    .injured{ background:#666; color:#000; }

    /* Tables */
    .stats-table{ margin-top:20px; border-collapse:collapse; width:100%; max-width:1000px; margin-inline:auto; background:var(--panel); border:1px solid var(--border); }
    .stats-table th, .stats-table td{ border:1px solid var(--border); padding:10px; text-align:center; font-size:12px; }
    .stats-table th{ background:var(--panel-strong); color:var(--fg); font-weight:bold; }
    .stats-table td{ background:var(--panel); color:var(--fg); }

    .player-info{ margin-bottom:20px; font-size:14px; color:var(--fg); }
    .season-stats{ margin-top:20px; padding:16px; background:var(--panel); border:1px solid var(--border); text-align:center; border-radius:6px; }
    .season-stats h3{ margin:0 0 10px 0; color:var(--fg); }
    .season-stats-row{ display:flex; justify-content:space-around; margin:10px 0; flex-wrap:wrap; gap:8px; }
    .stat-item{ margin:4px 10px; font-size:13px; }
    .stat-label{ color:var(--muted); font-size:11px; }
    .stat-value{ color:var(--fg); font-weight:bold; font-size:14px; }

    /* Betting block */
    .betting-section{ margin-top:24px; padding:16px; background:var(--panel); border:1px solid var(--border); border-radius:6px; }
    .betting-title{ display:flex; align-items:center; justify-content:flex-start; font-size:16px; font-weight:bold; margin-bottom:10px; color:var(--fg); }
    .bulb-icon{ width:20px; height:20px; fill:var(--fg); }
    .betting-recommendation{ margin:10px 0; padding:10px; background:var(--panel-strong); border-left:4px solid var(--fg); color:var(--fg); border-radius:4px; }
    .confidence,.odds{ color:var(--fg); }
    .betting-footer{ margin-top:10px; font-size:11px; color:var(--muted); }

    /* Color picker */
    .color-fab{ position:fixed; right:18px; bottom:18px; width:18px; height:18px; background:#ffffff; border-radius:50%; box-shadow:0 2px 10px rgba(0,0,0,0.3); cursor:pointer; z-index:2000; border:1px solid rgba(0,0,0,0.2); }
    .color-palette{ position:fixed; right:18px; bottom:46px; background:#111; padding:8px; border-radius:10px; display:none; grid-template-columns:repeat(6,18px); gap:8px; z-index:2001; border:1px solid var(--border); }
    .swatch{ width:18px; height:18px; border-radius:50%; border:1px solid rgba(255,255,255,0.7); cursor:pointer; }
    .palette-arrow{ position:absolute; right:8px; bottom:-6px; width:0; height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-top:6px solid #111; }
  </style>
</head>
<body>
  <h1>LIKE</h1>
  <div style="position: relative; display: inline-block;">
    <input type="text" id="playerInput" placeholder="Enter NBA/WNBA player name..." autocomplete="off"/>
    <div id="suggestions" class="suggestions"></div>
  </div>
  <br/>
  <button onclick="analyzePlayer()" id="analyzeBtn">ANALYZE</button>
  <div class="tagline">Ask less. Get more.</div>

  <div id="results"></div>

  <div class="footer">We don't care who you are.</div>

  <!-- Color picker UI -->
  <div class="color-fab" id="colorFab" title="Change background"></div>
  <div class="color-palette" id="colorPalette" aria-hidden="true" role="dialog">
    <div class="palette-arrow"></div>
  </div>

  <script>
    // ===== Palette (2025 trend + IKB + black/white) =====
    const COLORS = ['#002FA7','#A23D2D','#C8A211','#6B7D3A','#0F3D2E','#9A8CA5','#E26A5A','#D9C7A0','#BCC3C7','#1F2937','#000000','#FFFFFF'];

    const palette = document.getElementById('colorPalette');
    const fab = document.getElementById('colorFab');

    function hexToRgb(hex){ const v=hex.replace('#',''); const n=parseInt(v.length===3?v.split('').map(c=>c+c).join(''):v,16); return {r:(n>>16)&255,g:(n>>8)&255,b:n&255}; }
    function rgbToHex(r,g,b){ const to=v=>('0'+v.toString(16)).slice(-2); return '#'+to(r)+to(g)+to(b); }
    function mix(a,b,t){ return { r:Math.round(a.r+(b.r-a.r)*t), g:Math.round(a.g+(b.g-a.g)*t), b:Math.round(a.b+(b.b-a.b)*t) }; }
    function luminance({r,g,b}){ const x=[r,g,b].map(v=>{v/=255;return v<=0.03928?v/12.92:Math.pow((v+0.055)/1.055,2.4)}); return 0.2126*x[0]+0.7152*x[1]+0.0722*x[2]; }

    function setBg(color){
      const bg = hexToRgb(color);
      const L = luminance(bg);
      const fg = L > 0.5 ? '#000000' : '#ffffff';
      const target = (fg === '#000000') ? {r:0,g:0,b:0} : {r:255,g:255,b:255};
      const panel       = mix(bg, target, 0.12);
      const panelStrong = mix(bg, target, 0.20);
      const border      = mix(bg, target, 0.28);
      const muted       = mix(bg, target, 0.45);

      document.documentElement.style.setProperty('--bg', color);
      document.documentElement.style.setProperty('--fg', fg);
      document.documentElement.style.setProperty('--panel', rgbToHex(panel.r,panel.g,panel.b));
      document.documentElement.style.setProperty('--panel-strong', rgbToHex(panelStrong.r,panelStrong.g,panelStrong.b));
      document.documentElement.style.setProperty('--border', rgbToHex(border.r,border.g,border.b));
      document.documentElement.style.setProperty('--muted', rgbToHex(muted.r,muted.g,muted.b));

      // guarantee solid background
      document.documentElement.style.backgroundImage = 'none';
      document.body.style.backgroundImage = 'none';
      try{ localStorage.setItem('like_bg', color); }catch(e){}
    }

    function buildPalette(){
      palette.innerHTML = '<div class="palette-arrow"></div>' + COLORS.map(c=>`<div class="swatch" data-color="${c}" style="background:${c}"></div>`).join('');
      palette.querySelectorAll('.swatch').forEach(el=>{
        el.addEventListener('click',e=>{ const c=e.currentTarget.getAttribute('data-color'); setBg(c); palette.style.display='none'; palette.setAttribute('aria-hidden','true'); });
      });
    }

    fab.addEventListener('click',()=>{ const v=palette.style.display==='grid'; palette.style.display=v?'none':'grid'; palette.setAttribute('aria-hidden', v?'true':'false'); });
    document.addEventListener('click',e=>{ if(!palette.contains(e.target) && e.target!==fab){ palette.style.display='none'; palette.setAttribute('aria-hidden','true'); } });
    document.addEventListener('keydown',e=>{ if(e.key==='Escape'){ palette.style.display='none'; palette.setAttribute('aria-hidden','true'); } });

    (function init(){ try{ const saved=localStorage.getItem('like_bg'); if(saved) setBg(saved); else setBg('#000000'); }catch(e){} buildPalette(); })();

    // ========= ORIGINAL APP LOGIC =========
    // (Copied from your earlier working version and kept intact)
    const playerDatabase = [
      { name: "LeBron James", team: "LAL", status: "playing" },
      { name: "Anthony Davis", team: "LAL", status: "playing" },
      { name: "Austin Reaves", team: "LAL", status: "playing" },
      { name: "D'Angelo Russell", team: "LAL", status: "playing" },
      { name: "Rui Hachimura", team: "LAL", status: "playing" },
      { name: "Stephen Curry", team: "GSW", status: "playing" },
      { name: "Klay Thompson", team: "GSW", status: "playing" },
      { name: "Draymond Green", team: "GSW", status: "playing" },
      { name: "Andrew Wiggins", team: "GSW", status: "playing" },
      { name: "Jonathan Kuminga", team: "GSW", status: "playing" },
      { name: "Kevin Durant", team: "PHX", status: "playing" },
      { name: "Devin Booker", team: "PHX", status: "playing" },
      { name: "Bradley Beal", team: "PHX", status: "playing" },
      { name: "Jusuf Nurkic", team: "PHX", status: "playing" },
      { name: "Grayson Allen", team: "PHX", status: "playing" },
      { name: "Giannis Antetokounmpo", team: "MIL", status: "playing" },
      { name: "Damian Lillard", team: "MIL", status: "playing" },
      { name: "Khris Middleton", team: "MIL", status: "playing" },
      { name: "Brook Lopez", team: "MIL", status: "playing" },
      { name: "Bobby Portis", team: "MIL", status: "playing" },
      { name: "Luka Doncic", team: "DAL", status: "playing" },
      { name: "Kyrie Irving", team: "DAL", status: "playing" },
      { name: "Kristaps Porzingis", team: "DAL", status: "playing" },
      { name: "Tim Hardaway Jr.", team: "DAL", status: "playing" },
      { name: "Derrick Jones Jr.", team: "DAL", status: "playing" },
      { name: "Jayson Tatum", team: "BOS", status: "playing" },
      { name: "Jaylen Brown", team: "BOS", status: "playing" },
      { name: "Marcus Smart", team: "BOS", status: "playing" },
      { name: "Robert Williams III", team: "BOS", status: "playing" },
      { name: "Al Horford", team: "BOS", status: "playing" },
      { name: "Nikola Jokic", team: "DEN", status: "playing" },
      { name: "Jamal Murray", team: "DEN", status: "playing" },
      { name: "Michael Porter Jr.", team: "DEN", status: "playing" },
      { name: "Aaron Gordon", team: "DEN", status: "playing" },
      { name: "Kentavious Caldwell-Pope", team: "DEN", status: "playing" },
      { name: "Joel Embiid", team: "PHI", status: "playing" },
      { name: "Paul George", team: "PHI", status: "playing" },
      { name: "Tyrese Maxey", team: "PHI", status: "playing" },
      { name: "Tobias Harris", team: "PHI", status: "playing" },
      { name: "De'Anthony Melton", team: "PHI", status: "playing" },
      { name: "Kawhi Leonard", team: "LAC", status: "injured" },
      { name: "Paul George", team: "LAC", status: "playing" },
      { name: "Russell Westbrook", team: "LAC", status: "playing" },
      { name: "Ivica Zubac", team: "LAC", status: "playing" },
      { name: "Terance Mann", team: "LAC", status: "playing" },
      { name: "Jimmy Butler", team: "MIA", status: "playing" },
      { name: "Bam Adebayo", team: "MIA", status: "playing" },
      { name: "Tyler Herro", team: "MIA", status: "playing" },
      { name: "Kyle Lowry", team: "MIA", status: "playing" },
      { name: "Duncan Robinson", team: "MIA", status: "playing" },
      { name: "Anthony Edwards", team: "MIN", status: "playing" },
      { name: "Karl-Anthony Towns", team: "MIN", status: "playing" },
      { name: "Rudy Gobert", team: "MIN", status: "playing" },
      { name: "Jaden McDaniels", team: "MIN", status: "playing" },
      { name: "Mike Conley", team: "MIN", status: "playing" },
      { name: "Ja Morant", team: "MEM", status: "playing" },
      { name: "Jaren Jackson Jr.", team: "MEM", status: "playing" },
      { name: "Desmond Bane", team: "MEM", status: "playing" },
      { name: "Marcus Smart", team: "MEM", status: "playing" },
      { name: "Steven Adams", team: "MEM", status: "playing" },
      { name: "Zion Williamson", team: "NOP", status: "playing" },
      { name: "Brandon Ingram", team: "NOP", status: "playing" },
      { name: "CJ McCollum", team: "NOP", status: "playing" },
      { name: "Jonas Valanciunas", team: "NOP", status: "playing" },
      { name: "Herbert Jones", team: "NOP", status: "playing" },
      { name: "Shai Gilgeous-Alexander", team: "OKC", status: "playing" },
      { name: "Josh Giddey", team: "OKC", status: "playing" },
      { name: "Chet Holmgren", team: "OKC", status: "playing" },
      { name: "Jalen Williams", team: "OKC", status: "playing" },
      { name: "Lu Dort", team: "OKC", status: "playing" },
      { name: "Donovan Mitchell", team: "CLE", status: "playing" },
      { name: "Darius Garland", team: "CLE", status: "playing" },
      { name: "Jarrett Allen", team: "CLE", status: "playing" },
      { name: "Evan Mobley", team: "CLE", status: "playing" },
      { name: "Caris LeVert", team: "CLE", status: "playing" },
      // WNBA subset
      { name: "A'ja Wilson", team: "LVA", status: "playing", league: "WNBA" },
      { name: "Sabrina Ionescu", team: "NYL", status: "playing", league: "WNBA" },
      { name: "Breanna Stewart", team: "NYL", status: "playing", league: "WNBA" },
      { name: "Caitlin Clark", team: "IND", status: "playing", league: "WNBA" },
      { name: "Alyssa Thomas", team: "CON", status: "playing", league: "WNBA" }
    ];

    const teamMatchups = { "LAL":["GSW","PHX","DEN","LAC","SAC","POR","UTA","SAS"], "GSW":["LAL","PHX","DEN","LAC","SAC","POR","UTA","SAS"], "PHX":["LAL","GSW","DEN","LAC","SAC","POR","UTA","SAS"], "MIL":["BOS","PHI","NYK","BRK","TOR","ATL","MIA","ORL"], "DAL":["SAS","HOU","MEM","NOP","OKC","DEN","MIN","UTA"], "BOS":["MIL","PHI","NYK","BRK","TOR","ATL","MIA","ORL"], "DEN":["LAL","GSW","PHX","LAC","SAC","POR","UTA","MIN"], "PHI":["BOS","MIL","NYK","BRK","TOR","ATL","MIA","WAS"], "LAC":["LAL","GSW","PHX","DEN","SAC","POR","UTA","SAS"], "MIA":["BOS","PHI","ATL","ORL","CHA","WAS","NYK","BRK"], "MIN":["DEN","OKC","MEM","SAS","DAL","HOU","NOP","UTA"], "MEM":["DAL","SAS","HOU","NOP","OKC","MIN","DEN","UTA"], "NOP":["SAS","HOU","MEM","DAL","OKC","ATL","MIA","ORL"], "OKC":["DEN","MIN","MEM","SAS","DAL","HOU","NOP","UTA"], "CLE":["DET","IND","CHI","MIL","TOR","BOS","NYK","ATL"], "LVA":["SEA","PHX","MIN","CHI","IND","CON","NYL","ATL"], "NYL":["LVA","CON","IND","CHI","ATL","WAS","MIN","SEA"], "SEA":["LVA","PHX","MIN","NYL","IND","CHI","CON","ATL"], "IND":["CHI","NYL","CON","ATL","WAS","LVA","SEA","MIN"], "CHI":["IND","NYL","CON","ATL","MIN","WAS","LVA","SEA"], "CON":["NYL","IND","CHI","ATL","WAS","LVA","SEA","MIN"], "ATL":["WAS","NYL","IND","CHI","CON","LVA","SEA","MIN"], "WAS":["ATL","NYL","IND","CHI","CON","LVA","SEA","MIN"] };

    document.getElementById('playerInput').addEventListener('input', function(e){
      const q=e.target.value.toLowerCase(); const s=document.getElementById('suggestions');
      if(q.length<1){ s.style.display='none'; return; }
      const m=playerDatabase.filter(p=>p.name.toLowerCase().includes(q)).slice(0,15);
      if(m.length>0){ s.innerHTML=m.map(p=>`<div class="suggestion-item" onclick="selectPlayer('${p.name}')"><span>${p.name} (${p.team}${p.league?' - '+p.league:''})</span><div class="status-icon ${p.status}">${p.status==='playing'?'✓':'✗'}</div></div>`).join(''); s.style.display='block'; } else { s.style.display='none'; }
    });

    function selectPlayer(name){ document.getElementById('playerInput').value=name; document.getElementById('suggestions').style.display='none'; }
    document.addEventListener('click', e=>{ if(!e.target.closest('#playerInput') && !e.target.closest('#suggestions')){ document.getElementById('suggestions').style.display='none'; } });

    async function analyzePlayer(){
      const name=document.getElementById('playerInput').value.trim();
      if(!name){ alert('Please enter a player name'); return; }
      document.getElementById('results').innerHTML='Loading current player statistics...';
      try{
        let res=await fetch(`https://api.server.nbaapi.com/api/playertotals?page=1&pageSize=50&season=2025`);
        if(!res.ok){ res=await fetch(`https://api.server.nbaapi.com/api/playertotals?page=1&pageSize=50&season=2024`); }
        if(!res.ok){ throw new Error(`HTTP ${res.status}`); }
        const data=await res.json();
        let player=data.data.find(p=>p.playerName.toLowerCase().includes(name.toLowerCase()) || name.toLowerCase().includes(p.playerName.toLowerCase()));
        if(!player){
          try{
            const w=await fetch(`https://api.server.nbaapi.com/api/wnba/playertotals?page=1&pageSize=50&season=2024`);
            if(w.ok){ const wd=await w.json(); const wp=wd.data.find(p=>p.playerName.toLowerCase().includes(name.toLowerCase()) || name.toLowerCase().includes(p.playerName.toLowerCase())); if(wp){ wp.league='WNBA'; player=wp; } }
          }catch(_){ }
        }
        if(!player){
          let found=false;
          for(let page=2; page<=15 && !found; page++){
            const nx=await fetch(`https://api.server.nbaapi.com/api/playertotals?page=${page}&pageSize=50&season=2025`);
            if(nx.ok){ const nd=await nx.json(); const fp=nd.data.find(p=>p.playerName.toLowerCase().includes(name.toLowerCase()) || name.toLowerCase().includes(p.playerName.toLowerCase())); if(fp){ player=fp; found=true; } }
          }
          if(!found){ document.getElementById('results').innerHTML=`Player "${name}" not found. Please try a different name or check spelling.`; return; }
        }
        displayPlayerStats(player);
      }catch(err){ console.error(err); document.getElementById('results').innerHTML='Failed to fetch current player stats. Please try again.'; }
    }

    function displayPlayerStats(player){
      const results=document.getElementById('results');
      const avgPoints=(player.points/player.games); const avgReb=(player.totalRb/player.games); const avgAst=(player.assists/player.games); const avg3=(player.threeFg/player.games);
      const currentDate=new Date();
      let html=`<div class="player-info"><strong>${player.playerName}</strong><br>Team: ${player.team} | Position: ${player.position} | Age: ${player.age}<br>Games Played: ${player.games} | Current Season: 2024-25${player.league?' ('+player.league+')':''}</div>`;
      html+=`<table class="stats-table"><thead><tr><th>Recent Games</th><th>Points</th><th>Rebounds</th><th>Assists</th><th>3-Pointers</th></tr></thead><tbody>`;
      const opps=teamMatchups[player.team]||["OPP","RIV","FOE","ADV"];
      for(let i=1;i<=10;i++){
        const v=0.35; const pts=Math.max(0,Math.round(avgPoints*(1+(Math.random()-0.5)*v))); const reb=Math.max(0,Math.round(avgReb*(1+(Math.random()-0.5)*v))); const ast=Math.max(0,Math.round(avgAst*(1+(Math.random()-0.5)*v))); const th=Math.max(0,Math.round(avg3*(1+(Math.random()-0.5)*v))); const att=Math.max(th,Math.round(th*(1.2+Math.random()*0.8)));
        const opp=opps[Math.floor(Math.random()*opps.length)]; const home=Math.random()>0.5; const label=home?`vs ${opp}`:`@ ${opp}`;
        const days=i*2+Math.floor(Math.random()*2); const d=new Date(currentDate); d.setDate(d.getDate()-days); const ds=d.toLocaleDateString('en-US',{month:'short',day:'numeric'});
        html+=`<tr><td>${ds} ${label}</td><td>${pts}</td><td>${reb}</td><td>${ast}</td><td>${th}/${att}</td></tr>`;
      }
      html+=`</tbody></table>`;
      html+=`<div class="season-stats"><h3>Season Averages & Shooting Stats</h3><div class="season-stats-row">`+
        `<div class="stat-item"><div class="stat-label">PPG</div><div class="stat-value">${avgPoints.toFixed(1)}</div></div>`+
        `<div class="stat-item"><div class="stat-label">RPG</div><div class="stat-value">${avgReb.toFixed(1)}</div></div>`+
        `<div class="stat-item"><div class="stat-label">APG</div><div class="stat-value">${avgAst.toFixed(1)}</div></div>`+
        `<div class="stat-item"><div class="stat-label">3PM</div><div class="stat-value">${avg3.toFixed(1)}</div></div>`+
        `<div class="stat-item"><div class="stat-label">MPG</div><div class="stat-value">${(player.minutes/player.games).toFixed(1)}</div></div>`+
        `</div><div class="season-stats-row">`+
        `<div class="stat-item"><div class="stat-label">FG%</div><div class="stat-value">${(player.fieldPercent*100).toFixed(1)}%</div></div>`+
        `<div class="stat-item"><div class="stat-label">3P%</div><div class="stat-value">${(player.threePercent*100).toFixed(1)}%</div></div>`+
        `<div class="stat-item"><div class="stat-label">FT%</div><div class="stat-value">${(player.ftPercent*100).toFixed(1)}%</div></div>`+
        `<div class="stat-item"><div class="stat-label">FGM/A</div><div class="stat-value">${(player.fieldGoals/player.games).toFixed(1)}/${(player.fieldAttempts/player.games).toFixed(1)}</div></div>`+
        `<div class="stat-item"><div class="stat-label">Games</div><div class="stat-value">${player.games}</div></div>`+
        `</div></div>`;
      html+=generateBettingRecommendations(player,avgPoints,avgReb,avgAst,avg3);
      results.innerHTML=html;
    }

    function generateBettingRecommendations(player, avgPoints, avgReb, avgAst, avg3){
      let out=`<div class=\"betting-section\">`;
      out+=`<div class=\"betting-title\"><svg class=\"bulb-icon\" viewBox=\"0 0 24 24\"><path d=\"M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z\"/><path d=\"M9 21h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1s.45 1 1 1zm0-3h6c.55 0 1-.45 1-1s-.45-1-1-1H9c-.55 0-1 .45-1 1s.45 1 1 1z\"/></svg></div>`;
      const pLow=Math.floor(avgPoints*0.75); const pConf=Math.min(95,Math.max(65,85+(avgPoints-15)*2));
      out+=`<div class=\"betting-recommendation\"><strong>Points:</strong> <span class=\"confidence\">${pConf}%</span> confidence for ${pLow}+ points<br><span class=\"odds\">Recommended: Over ${pLow}.5 points | High confidence: Over ${Math.floor(avgPoints*0.6)}.5</span></div>`;
      const rLow=Math.floor(avgReb*0.75); const rConf=Math.min(90,Math.max(60,80+(avgReb-5)*3));
      out+=`<div class=\"betting-recommendation\"><strong>Rebounds:</strong> <span class=\"confidence\">${rConf}%</span> confidence for ${rLow}+ rebounds<br><span class=\"odds\">Recommended: Over ${rLow}.5 rebounds</span></div>`;
      const aLow=Math.floor(avgAst*0.75); const aConf=Math.min(88,Math.max(62,78+(avgAst-4)*2));
      out+=`<div class=\"betting-recommendation\"><strong>Assists:</strong> <span class=\"confidence\">${aConf}%</span> confidence for ${aLow}+ assists<br><span class=\"odds\">Recommended: Over ${aLow}.5 assists</span></div>`;
      if(avg3>=1){ const tLow=Math.floor(avg3*0.6); const tConf=Math.min(85,Math.max(55,70+(avg3-2)*3)); out+=`<div class=\"betting-recommendation\"><strong>3-Pointers:</strong> <span class=\"confidence\">${tConf}%</span> confidence for ${tLow}+ threes<br><span class=\"odds\">Recommended: Over ${tLow}.5 three-pointers</span></div>`; }
      out+=`<div class=\"betting-footer\">* Analysis based on current season performance and recent form<br>* Recommendations optimized for betting success | Always gamble responsibly</div>`;
      out+=`</div>`; return out;
    }

    // Enter to submit
    document.getElementById('playerInput').addEventListener('keypress', e=>{ if(e.key==='Enter') analyzePlayer(); });
  </script>
</body>
</html>
